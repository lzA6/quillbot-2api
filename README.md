# âœ’ï¸ Quillbot-2APIï¼šä½ çš„ç§äºº AI å›¾åƒé­”æ³•å¸ˆ ğŸ¨

![License: Apache 2.0](https://img.shields.io/badge/License-Apache%202.0-blue.svg)
![GitHub stars](https://img.shields.io/github/stars/lzA6/quillbot-2api.svg?style=social&label=Star)
![Docker Ready](https://img.shields.io/badge/Docker-Ready-blue?logo=docker)

> "ä»»ä½•è¶³å¤Ÿå…ˆè¿›çš„ç§‘æŠ€ï¼Œéƒ½ä¸é­”æ³•æ— å¼‚ã€‚" â€”â€” äºšç‘ŸÂ·å…‹æ‹‰å…‹

æ¬¢è¿æ¥åˆ° `quillbot-2api` çš„ä¸–ç•Œï¼åœ¨è¿™é‡Œï¼Œæˆ‘ä»¬ä¸åªæ˜¯åœ¨ç¼–å†™ä»£ç ï¼Œæˆ‘ä»¬æ˜¯åœ¨**é©¯æœæ•°å­—å·¨é¾™**ï¼Œå°†å¼ºå¤§çš„ Quillbot AI å›¾åƒç”Ÿæˆèƒ½åŠ›è½¬åŒ–ä¸ºä½ å¯ä»¥éšå¿ƒæ‰€æ¬²è°ƒé£çš„é­”æ³•ã€‚è¿™ä¸ªé¡¹ç›®æ˜¯ä¸€ä¸ªæ¡¥æ¢ï¼Œä¸€æ‰‡ä»»æ„é—¨ï¼Œè®©ä½ èƒ½å¤Ÿç”¨æœ€ç†Ÿæ‚‰ã€æœ€æ ‡å‡†çš„æ–¹å¼ï¼ˆOpenAI API æ ¼å¼ï¼‰é‡Šæ”¾æ— å°½çš„åˆ›é€ åŠ›ã€‚

æˆ‘ä»¬ç›¸ä¿¡ï¼ŒæŠ€æœ¯çš„çœŸæ­£ä»·å€¼åœ¨äº**èµ‹èƒ½**ã€‚å®ƒåº”è¯¥åƒç©ºæ°”å’Œæ°´ä¸€æ ·ï¼Œè½»æ¾ã€è‡ªç„¶åœ°èå…¥ä½ çš„å·¥ä½œæµï¼Œè€Œä¸æ˜¯æˆä¸ºä¸€åº§éœ€è¦è´¹åŠ›æ”€ç™»çš„é«˜å±±ã€‚è¿™ä¸ªé¡¹ç›®çš„è¯ç”Ÿï¼Œæ­£æ˜¯æºäºè¿™æ ·ä¸€ä¸ªç®€å•è€Œçº¯ç²¹çš„ä¿¡å¿µï¼š**è®©å¼ºå¤§çš„å·¥å…·å˜å¾—å¹³æ˜“è¿‘äººï¼Œè®©æ¯ä¸ªäººéƒ½èƒ½æˆä¸ºè‡ªå·±æƒ³è±¡ä¸–ç•Œé‡Œçš„é€ ç‰©ä¸»ã€‚** ğŸš€

---

## ğŸ“œ é¡¹ç›®æ ¸å¿ƒæ€æƒ³ï¼šåŒ–ç¹ä¸ºç®€ï¼Œä¸‡æ³•å½’ä¸€

æƒ³è±¡ä¸€ä¸‹ï¼Œä½ æœ‰ä¸€ä¸ªéå¸¸å‰å®³çš„é­”æ³•å¸ˆæœ‹å‹ï¼ˆQuillbotï¼‰ï¼Œä»–èƒ½ç”»å‡ºä»»ä½•ä½ æƒ³è¦çš„ä¸œè¥¿ï¼Œä½†ä½ æ¯æ¬¡éƒ½å¾—ç”¨ä¸€å¥—éå¸¸å¤æ‚çš„å’’è¯­å’Œæ‰‹åŠ¿æ‰èƒ½è®©ä»–åŠ¨æ‰‹ã€‚æ˜¯ä¸æ˜¯å¾ˆç´¯ï¼Ÿ

`quillbot-2api` æ‰€åšçš„ï¼Œå°±æ˜¯ä¸ºä½ å’Œè¿™ä½é­”æ³•å¸ˆä¹‹é—´å®‰æ’äº†ä¸€ä½**"åŒå£°ä¼ è¯‘"**ã€‚ä½ åªéœ€è¦ç”¨å…¨ä¸–ç•Œæœ€é€šç”¨çš„"æ™®é€šè¯"ï¼ˆOpenAI API æ ¼å¼ï¼‰ä¸‹è¾¾æŒ‡ä»¤ï¼Œè¿™ä½ç¿»è¯‘å®˜å°±ä¼šç«‹åˆ»å°†å…¶è½¬æ¢æˆé­”æ³•å¸ˆèƒ½å¬æ‡‚çš„å¤è€å’’è¯­ã€‚

- **ä¸“ä¸šæœ¯è¯­è§£é‡Š**ï¼šæˆ‘ä»¬å®ç°äº†ä¸€ä¸ª**ä»£ç†æœåŠ¡**ï¼Œå®ƒæ¥æ”¶éµå¾ª OpenAI `v1/images/generations` å’Œ `v1/chat/completions` API è§„èŒƒçš„ HTTP è¯·æ±‚ï¼Œç„¶åå°†å…¶"ç¿»è¯‘"æˆ Quillbot ç½‘ç«™èƒ½å¤Ÿç†è§£çš„è¯·æ±‚æ ¼å¼ï¼Œå†å°† Quillbot è¿”å›çš„ç»“æœ"ç¿»è¯‘"å› OpenAI çš„æ ‡å‡†æ ¼å¼è¿”å›ç»™ä½ ã€‚

- **å¤§ç™½è¯**ï¼šä½ å‡è£…åœ¨å’Œ OpenAI å¯¹è¯ï¼Œä½†å®é™…ä¸Šæ˜¯ `quillbot-2api` åœ¨èƒŒåå¸®ä½ ä½¿å”¤ Quillbot å»å¹²æ´»ï¼Œè€Œä¸”è¿˜æŠŠç»“æœå·¥å·¥æ•´æ•´åœ°æ‘†åœ¨ä½ é¢å‰ã€‚æ˜¯ä¸æ˜¯å¾ˆé…·ï¼ŸğŸ˜

---

## ğŸ—ï¸ é¡¹ç›®æ¶æ„å…¨æ™¯å›¾

```mermaid
graph TB
    %% ç”¨æˆ·ç«¯
    subgraph A["ğŸ¯ ç”¨æˆ·è®¿é—®å±‚"]
        U1[ğŸ“± Web UI]
        U2[âš¡ API å®¢æˆ·ç«¯]
        U3[ğŸ¤– ç¬¬ä¸‰æ–¹åº”ç”¨]
    end

    %% ç½‘å…³å±‚
    subgraph B["ğŸŒ ç½‘å…³å±‚ - Nginx"]
        N1[ğŸ›¡ï¸ åå‘ä»£ç†]
        N2[ğŸ”’ ç«¯å£æ˜ å°„]
        N3[âš–ï¸ è´Ÿè½½å‡è¡¡]
    end

    %% åº”ç”¨å±‚
    subgraph C["ğŸš€ åº”ç”¨å±‚ - FastAPI"]
        F1[ğŸ¯ API è·¯ç”±]
        F2[ğŸ”‘ è®¤è¯ä¸­é—´ä»¶]
        F3[ğŸ”„ è¯·æ±‚è½¬æ¢å™¨]
    end

    %% æ ¸å¿ƒå±‚
    subgraph D["ğŸ’ æ ¸å¿ƒæœåŠ¡å±‚"]
        subgraph D1["ğŸ”§ æä¾›å•†ç®¡ç†å™¨"]
            P1[ğŸ”„ å¤šè´¦å·è½®è¯¢]
            P2[ğŸ” å‡­è¯ç®¡ç†]
            P3[âš¡ å¹¶å‘å¤„ç†]
        end
        
        subgraph D2["ğŸ›¡ï¸ ç½‘ç»œå¼•æ“"]
            E1[ğŸš€ Cloudscraper]
            E2[ğŸŒ HTTP å®¢æˆ·ç«¯]
            E3[ğŸ›¡ï¸ åçˆ¬è™«ç»•è¿‡]
        end
    end

    %% å¤–éƒ¨æœåŠ¡
    subgraph E["ğŸŒˆ å¤–éƒ¨æœåŠ¡ - Quillbot"]
        Q1[ğŸ¨ å›¾åƒç”Ÿæˆ]
        Q2[ğŸ¤– AI æ¨¡å‹]
        Q3[â˜ï¸ äº‘ç«¯æœåŠ¡]
    end

    %% æ•°æ®æµ
    U1 -->|HTTP è¯·æ±‚| B
    U2 -->|OpenAI æ ¼å¼| B
    U3 -->|API è°ƒç”¨| B
    
    B -->|ä»£ç†è½¬å‘| C
    C -->|ä¸šåŠ¡å¤„ç†| D
    D -->|é­”æ³•è½¬æ¢| E
    
    E -->|å›¾åƒæ•°æ®| D
    D -->|æ ‡å‡†æ ¼å¼| C
    C -->|JSON å“åº”| B
    B -->|æœ€ç»ˆç»“æœ| A

    %% æ ·å¼
    classDef user fill:#e1f5fe,stroke:#01579b,stroke-width:2px
    classDef gateway fill:#f3e5f5,stroke:#4a148c,stroke-width:2px
    classDef app fill:#e8f5e8,stroke:#1b5e20,stroke-width:2px
    classDef core fill:#fff3e0,stroke:#e65100,stroke-width:2px
    classDef external fill:#ffebee,stroke:#b71c1c,stroke-width:2px
    
    class A user
    class B gateway
    class C app
    class D core
    class E external
```

### ğŸ¯ æ¶æ„æ ¸å¿ƒç»„ä»¶è¯´æ˜

| å±‚çº§ | ç»„ä»¶ | å›¾æ ‡ | èŒè´£ | å…³é”®æŠ€æœ¯ |
|-----|------|------|------|----------|
| **ç”¨æˆ·å±‚** | Web UI / API å®¢æˆ·ç«¯ | ğŸ“± âš¡ | æä¾›ç”¨æˆ·äº¤äº’ç•Œé¢å’Œ API æ¥å…¥ç‚¹ | HTML5, JavaScript, Fetch API |
| **ç½‘å…³å±‚** | Nginx åå‘ä»£ç† | ğŸŒ ğŸ›¡ï¸ | è¯·æ±‚è½¬å‘ã€è´Ÿè½½å‡è¡¡ã€å®‰å…¨é˜²æŠ¤ | Nginx, IP Hash, SSL/TLS |
| **åº”ç”¨å±‚** | FastAPI æœåŠ¡ | ğŸš€ ğŸ¯ | API è·¯ç”±ã€è®¤è¯ã€è¯·æ±‚å“åº”å¤„ç† | FastAPI, Uvicorn, Pydantic |
| **æ ¸å¿ƒå±‚** | æä¾›å•†ç®¡ç†å™¨ | ğŸ”§ ğŸ”„ | å¤šè´¦å·è½®è¯¢ã€å¹¶å‘æ§åˆ¶ã€é”™è¯¯å¤„ç† | Threading, Asyncio, Round-robin |
| **ç½‘ç»œå±‚** | Cloudscraper å¼•æ“ | ğŸ›¡ï¸ ğŸš€ | ç»•è¿‡ Cloudflare é˜²æŠ¤ã€æ¨¡æ‹Ÿæµè§ˆå™¨ | Cloudscraper, Node.js |
| **å¤–éƒ¨æœåŠ¡** | Quillbot AI | ğŸŒˆ ğŸ¨ | å®é™…çš„å›¾åƒç”Ÿæˆå’Œ AI å¤„ç† | REST API, WebSocket |

---

## ğŸ“ é¡¹ç›®æ–‡ä»¶ç»“æ„

```
ğŸ“‚ quillbot-2api/
â”œâ”€â”€ ğŸ“„ .env                    # ğŸ” ç¯å¢ƒé…ç½®æ–‡ä»¶ï¼ˆç”Ÿäº§ç¯å¢ƒï¼‰
â”œâ”€â”€ ğŸ“„ .env.example            # ğŸ“‹ ç¯å¢ƒé…ç½®æ¨¡æ¿
â”œâ”€â”€ ğŸ“„ Dockerfile              # ğŸ³ å®¹å™¨æ„å»ºé…ç½®
â”œâ”€â”€ ğŸ“„ docker-compose.yml      # ğŸš€ å®¹å™¨ç¼–æ’é…ç½®
â”œâ”€â”€ ğŸ“„ main.py                 # ğŸ¯ FastAPI åº”ç”¨å…¥å£
â”œâ”€â”€ ğŸ“„ nginx.conf              # ğŸŒ Nginx åå‘ä»£ç†é…ç½®
â”œâ”€â”€ ğŸ“„ requirements.txt        # ğŸ“¦ Python ä¾èµ–åˆ—è¡¨
â”œâ”€â”€ ğŸ“‚ app/                    # ğŸ’¼ åº”ç”¨æ ¸å¿ƒä»£ç 
â”‚   â”œâ”€â”€ ğŸ“‚ core/               # ğŸª æ ¸å¿ƒåŠŸèƒ½æ¨¡å—
â”‚   â”‚   â”œâ”€â”€ ğŸ“„ __init__.py
â”‚   â”‚   â””â”€â”€ ğŸ“„ config.py       # âš™ï¸ é…ç½®ç®¡ç†ç³»ç»Ÿ
â”‚   â”œâ”€â”€ ğŸ“‚ providers/          # ğŸ”Œ æœåŠ¡æä¾›å•†æ¨¡å—
â”‚   â”‚   â”œâ”€â”€ ğŸ“„ __init__.py
â”‚   â”‚   â”œâ”€â”€ ğŸ“„ base_provider.py # ğŸ“ æä¾›å•†æŠ½è±¡åŸºç±»
â”‚   â”‚   â””â”€â”€ ğŸ“„ quillbot_provider.py # ğŸ¨ Quillbot æ ¸å¿ƒå®ç°
â”‚   â””â”€â”€ ğŸ“‚ utils/              # ğŸ› ï¸ å·¥å…·å‡½æ•°åº“
â”‚       â””â”€â”€ ğŸ“„ sse_utils.py    # ğŸ“¡ æœåŠ¡å™¨æ¨é€å·¥å…·
â””â”€â”€ ğŸ“‚ static/                 # ğŸ¨ å‰ç«¯é™æ€èµ„æº
    â”œâ”€â”€ ğŸ“„ index.html          # ğŸ  ä¸»é¡µé¢
    â”œâ”€â”€ ğŸ“„ script.js           # âš¡ å‰ç«¯äº¤äº’é€»è¾‘
    â””â”€â”€ ğŸ“„ style.css           # ğŸ­ æ ·å¼è®¾è®¡
```

---

## âœ¨ æ ¸å¿ƒç‰¹è‰²åŠŸèƒ½

### ğŸ­ å®Œç¾ API å…¼å®¹æ€§
- **æ— ç¼é›†æˆ**: 100% å…¼å®¹ OpenAI API æ ¼å¼ï¼Œå¯ç›´æ¥æ›¿æ¢ç°æœ‰ OpenAI å®¢æˆ·ç«¯
- **æ ‡å‡†è§„èŒƒ**: æ”¯æŒ `v1/images/generations` å’Œ `v1/chat/completions` ç«¯ç‚¹
- **å¹¿æ³›å…¼å®¹**: æ”¯æŒæ‰€æœ‰åŸºäº OpenAI SDK çš„åº”ç”¨å’Œæ¡†æ¶

### ğŸ”§ æ™ºèƒ½å¤šè´¦å·ç®¡ç†
```python
# ğŸ¯ å¤šè´¦å·è½®è¯¢ç®—æ³•ç¤ºä¾‹
class QuillbotProvider:
    def __init__(self):
        self.accounts = self._load_accounts()  # ğŸ”„ åŠ¨æ€åŠ è½½è´¦å·
        self.current_index = 0                 # ğŸ“ å½“å‰è´¦å·ç´¢å¼•
        self.lock = threading.Lock()          # ğŸ”’ çº¿ç¨‹å®‰å…¨é”
    
    def _get_next_account(self):
        with self.lock:
            account = self.accounts[self.current_index]
            self.current_index = (self.current_index + 1) % len(self.accounts)
            return account  # âš¡ è‡ªåŠ¨åˆ‡æ¢åˆ°ä¸‹ä¸€ä¸ªè´¦å·
```

### ğŸ›¡ï¸ é«˜çº§åçˆ¬è™«é˜²æŠ¤
- **æ™ºèƒ½ç»•è¿‡**: ä½¿ç”¨ `cloudscraper` è‡ªåŠ¨å¤„ç† Cloudflare æŒ‘æˆ˜
- **æµè§ˆå™¨æ¨¡æ‹Ÿ**: æ¨¡æ‹ŸçœŸå®æµè§ˆå™¨è¡Œä¸ºï¼Œé¿å…è¢«æ£€æµ‹ä¸ºæœºå™¨äºº
- **è‡ªåŠ¨é‡è¯•**: æ™ºèƒ½é‡è¯•æœºåˆ¶ï¼Œæé«˜è¯·æ±‚æˆåŠŸç‡

### ğŸš€ ä¸€é”®å®¹å™¨åŒ–éƒ¨ç½²
```yaml
# ğŸ³ Docker Compose é…ç½®ç¤ºä¾‹
version: '3.8'
services:
  app:
    build: .
    ports:
      - "8000:8000"
    environment:
      - API_MASTER_KEY=${API_MASTER_KEY}
  nginx:
    image: nginx:alpine
    ports:
      - "${NGINX_PORT}:80"
    depends_on:
      - app
```

---

## ğŸš€ å¿«é€Ÿå¼€å§‹æŒ‡å—

### ğŸ“‹ å‰ç½®è¦æ±‚
- ğŸ³ Docker & Docker Compose
- ğŸ”‘ Quillbot é«˜çº§è´¦æˆ·
- ğŸŒ ç½‘ç»œè¿æ¥

### ğŸ› ï¸ ä¸‰æ­¥éƒ¨ç½²æµç¨‹

#### æ­¥éª¤ 1: è·å–é¡¹ç›®ä»£ç 
```bash
git clone https://github.com/lzA6/quillbot-2api.git
cd quillbot-2api
```

#### æ­¥éª¤ 2: é…ç½®è®¤è¯ä¿¡æ¯

**è·å– Quillbot å‡­è¯ï¼š**
1. ğŸ” ä½¿ç”¨ Chrome æµè§ˆå™¨ç™»å½• `https://quillbot.com/`
2. ğŸ› ï¸ æŒ‰ `F12` æ‰“å¼€å¼€å‘è€…å·¥å…·
3. ğŸ“¡ åˆ‡æ¢åˆ°"ç½‘ç»œ"(Network) é¢æ¿
4. ğŸ¨ è¿›è¡Œä¸€æ¬¡å›¾åƒç”Ÿæˆæ“ä½œ
5. ğŸ“‹ å¤åˆ¶ `cookie` å’Œ `useridtoken` å€¼

**é…ç½®ç¯å¢ƒå˜é‡ï¼š**
```bash
cp .env.example .env
# ç¼–è¾‘ .env æ–‡ä»¶ï¼Œå¡«å…¥ä½ çš„å‡­è¯
```

ç¤ºä¾‹ `.env` é…ç½®ï¼š
```env
# ğŸ” API ä¸»å¯†é’¥
API_MASTER_KEY=your_super_secure_key_here

# ğŸŒ æœåŠ¡ç«¯å£
NGINX_PORT=8088

# ğŸ”‘ Quillbot è´¦æˆ·é…ç½®ï¼ˆæ”¯æŒå¤šä¸ªè´¦æˆ·ï¼‰
QUILLBOT_AUTH_1='{"cookie": "your_cookie_here", "token": "your_token_here"}'
QUILLBOT_AUTH_2='{"cookie": "cookie_2", "token": "token_2"}'
```

#### æ­¥éª¤ 3: å¯åŠ¨æœåŠ¡
```bash
docker-compose up -d
```

ğŸ‰ **æ­å–œï¼** æœåŠ¡ç°åœ¨è¿è¡Œåœ¨ `http://localhost:8088`

---

## ğŸ”¬ æŠ€æœ¯æ·±åº¦è§£æ

### ğŸ—ï¸ ç³»ç»Ÿæ¶æ„è¯¦è§£

#### ç¬¬ä¸€å±‚ï¼šç½‘å…³å±‚ (Nginx)
```nginx
# ğŸ›¡ï¸ Nginx é…ç½®æ ¸å¿ƒé€»è¾‘
upstream app_server {
    ip_hash;  # ğŸ”— ä¼šè¯ä¿æŒ
    server app:8000;
}

server {
    listen 80;
    
    location / {
        proxy_pass http://app_server;  # ğŸ”„ è¯·æ±‚è½¬å‘
        proxy_set_header Host $host;
    }
}
```
- **èŒè´£**: è¯·æ±‚è·¯ç”±ã€è´Ÿè½½å‡è¡¡ã€SSL ç»ˆæ­¢
- **ä¼˜åŠ¿**: é«˜æ€§èƒ½ã€é«˜å¹¶å‘ã€å®‰å…¨å¯é 

#### ç¬¬äºŒå±‚ï¼šåº”ç”¨å±‚ (FastAPI)
```python
# ğŸš€ FastAPI æ ¸å¿ƒè·¯ç”±
@app.post("/v1/images/generations")
async def create_image(request: ImageRequest, 
                      api_key: str = Depends(verify_api_key)):
    """
    ğŸ¨ å›¾åƒç”Ÿæˆç«¯ç‚¹
    """
    provider = QuillbotProvider()
    images = await provider.generate_images(request)
    return StandardResponse(data=images)
```
- **ç‰¹æ€§**: å¼‚æ­¥å¤„ç†ã€è‡ªåŠ¨æ–‡æ¡£ã€ç±»å‹å®‰å…¨
- **æ€§èƒ½**: é«˜ååé‡ã€ä½å»¶è¿Ÿ

#### ç¬¬ä¸‰å±‚ï¼šæ ¸å¿ƒæœåŠ¡å±‚
```python
# ğŸ’ æ ¸å¿ƒå›¾åƒç”Ÿæˆé€»è¾‘
class QuillbotProvider:
    async def generate_images(self, request: ImageRequest) -> List[str]:
        """ç”Ÿæˆå¤šå¼ å›¾åƒçš„æ™ºèƒ½æ–¹æ³•"""
        # ğŸ”„ å¤šè´¦å·è½®è¯¢
        account = self._get_next_account()
        
        # âš¡ å¹¶å‘è¯·æ±‚å¤„ç†
        tasks = []
        for _ in range((request.n + 1) // 2):
            task = self._single_generation(account, request)
            tasks.append(task)
        
        # ğŸ¯ å¹¶è¡Œæ‰§è¡Œ
        results = await asyncio.gather(*tasks)
        return [img for batch in results for img in batch]
```

### ğŸ›¡ï¸ å…³é”®æŠ€æœ¯çªç ´

#### Cloudflare ç»•è¿‡æœºåˆ¶
```python
# ğŸš€ é«˜çº§åçˆ¬è™«å®ç°
def create_scraper_session():
    """åˆ›å»ºèƒ½å¤Ÿç»•è¿‡ Cloudflare çš„ä¼šè¯"""
    return cloudscraper.create_scraper(
        browser={
            'browser': 'chrome',
            'platform': 'windows',
            'desktop': True
        }
    )
```

#### æ™ºèƒ½é”™è¯¯å¤„ç†
```python
# ğŸ”§ å¥å£®çš„é”™è¯¯å¤„ç†ç³»ç»Ÿ
class QuillbotErrorHandler:
    @staticmethod
    async def handle_generation_error(error: Exception) -> Dict:
        """æ™ºèƒ½é”™è¯¯åˆ†ç±»å’Œå¤„ç†"""
        error_mapping = {
            "rate_limit": "è¯·ç¨åé‡è¯•",
            "invalid_prompt": "æç¤ºè¯åŒ…å«è¿ç¦å†…å®¹",
            "network_error": "ç½‘ç»œè¿æ¥å¼‚å¸¸"
        }
        # ğŸ¯ æ™ºèƒ½é”™è¯¯è¯†åˆ«å’Œç”¨æˆ·å‹å¥½æç¤º
```

---

## ğŸ¯ ä½¿ç”¨æ–¹å¼

### 1. ğŸ–¥ï¸ Web ç•Œé¢ä½¿ç”¨
è®¿é—® `http://localhost:8088` ä½¿ç”¨å†…ç½®çš„ Web UIï¼š

```html
<!-- ğŸ¨ å›¾åƒç”Ÿæˆç•Œé¢ç¤ºä¾‹ -->
<div class="generation-panel">
    <input type="text" id="prompt" placeholder="è¯·è¾“å…¥æç¤ºè¯...">
    <select id="model">
        <option value="realistic">çœŸå®é£æ ¼</option>
        <option value="artistic">è‰ºæœ¯é£æ ¼</option>
    </select>
    <button onclick="generateImage()">ğŸ¨ ç”Ÿæˆå›¾åƒ</button>
</div>
```

### 2. ğŸ”Œ API è°ƒç”¨æ–¹å¼
```python
import openai

# âš™ï¸ é…ç½®å®¢æˆ·ç«¯
client = openai.OpenAI(
    api_key="your_api_master_key",
    base_url="http://localhost:8088/v1"
)

# ğŸ¨ ç”Ÿæˆå›¾åƒ
response = client.images.generate(
    model="quillbot-image",
    prompt="ä¸€åªåœ¨å¤ªç©ºç«™å–å’–å•¡çš„çŒ«å’ª",
    n=2,
    size="1024x1024"
)

# ğŸ“¸ æ˜¾ç¤ºç»“æœ
for image in response.data:
    print(f"å›¾åƒ URL: {image.url}")
```

### 3. ğŸ› ï¸ ç›´æ¥ HTTP è¯·æ±‚
```bash
curl -X POST "http://localhost:8088/v1/images/generations" \
  -H "Authorization: Bearer your_api_master_key" \
  -H "Content-Type: application/json" \
  -d '{
    "model": "quillbot-image",
    "prompt": "å¤•é˜³ä¸‹çš„å¤åŸå ¡",
    "n": 1,
    "size": "1024x1024"
  }'
```

---

## ğŸ“Š æ€§èƒ½ä¼˜åŒ–ç­–ç•¥

### âš¡ å¹¶å‘å¤„ç†ä¼˜åŒ–
```python
# ğŸš€ æ™ºèƒ½å¹¶å‘æ§åˆ¶
class ConcurrentManager:
    def __init__(self, max_concurrent: int = 3):
        self.semaphore = asyncio.Semaphore(max_concurrent)
    
    async def bounded_gather(self, tasks):
        """å—é™çš„å¹¶å‘æ‰§è¡Œ"""
        async with self.semaphore:
            return await asyncio.gather(*tasks)
```

### ğŸ”„ è¿æ¥æ± ç®¡ç†
```python
# ğŸŒ é«˜æ•ˆçš„è¿æ¥å¤ç”¨
class ConnectionPool:
    def __init__(self):
        self.session = aiohttp.ClientSession(
            connector=aiohttp.TCPConnector(
                limit=100,  # ğŸ¯ æœ€å¤§è¿æ¥æ•°
                limit_per_host=30  # ğŸ¯ æ¯ä¸»æœºè¿æ¥æ•°
            )
        )
```

---

## ğŸ›¡ï¸ å®‰å…¨ç‰¹æ€§

### ğŸ” API è®¤è¯æœºåˆ¶
```python
# ğŸ›¡ï¸ å®‰å…¨çš„ API å¯†é’¥éªŒè¯
async def verify_api_key(api_key: str = Header(...)):
    """éªŒè¯ API å¯†é’¥çš„ä¾èµ–å‡½æ•°"""
    if not secrets.compare_digest(api_key, settings.API_MASTER_KEY):
        raise HTTPException(status_code=401, detail="æ— æ•ˆçš„ API å¯†é’¥")
    return api_key
```

### ğŸ“ è¯·æ±‚éªŒè¯
```python
# âœ… è¾“å…¥æ•°æ®éªŒè¯
class ImageRequest(BaseModel):
    prompt: str = Field(..., min_length=1, max_length=1000)
    model: str = Field(default="quillbot-image")
    n: int = Field(default=1, ge=1, le=4)
    size: str = Field(default="1024x1024")
    
    @validator('prompt')
    def validate_prompt(cls, v):
        """æç¤ºè¯å†…å®¹éªŒè¯"""
        if contains_sensitive_content(v):
            raise ValueError("æç¤ºè¯åŒ…å«æ•æ„Ÿå†…å®¹")
        return v
```

---

## ğŸ”® æœªæ¥å‘å±•è§„åˆ’

### ğŸ¯ çŸ­æœŸç›®æ ‡ (v1.1 - v1.3)
- [ ] **å‡­è¯è‡ªåŠ¨ç»­æœŸ** ğŸ”„
- [ ] **æ›´ç²¾ç»†çš„é”™è¯¯å¤„ç†** ğŸ¯
- [ ] **æµå¼èŠå¤©æ”¯æŒ** ğŸ“¡
- [ ] **åŠ¨æ€æ¨¡å‹å‘ç°** ğŸ”

### ğŸš€ ä¸­æœŸè§„åˆ’ (v2.0)
- [ ] **æ’ä»¶åŒ–æ¶æ„** ğŸ”Œ
- [ ] **å¤šæä¾›å•†æ”¯æŒ** ğŸŒˆ
- [ ] **ç”¨æˆ·ç®¡ç†ç³»ç»Ÿ** ğŸ‘¥
- [ ] **ä½¿ç”¨é‡ç»Ÿè®¡** ğŸ“Š

### ğŸŒŸ é•¿æœŸæ„¿æ™¯
- [ ] **åˆ†å¸ƒå¼éƒ¨ç½²** ğŸŒ
- [ ] **æœºå™¨å­¦ä¹ ä¼˜åŒ–** ğŸ¤–
- [ ] **ç”Ÿæ€ç³»ç»Ÿå»ºè®¾** ğŸ—ï¸

---

## ğŸ’¡ åº”ç”¨åœºæ™¯

### ğŸ¨ å†…å®¹åˆ›ä½œ
- **åšå®¢é…å›¾**: è‡ªåŠ¨ä¸ºæ–‡ç« ç”Ÿæˆç›¸å…³å›¾ç‰‡
- **ç¤¾äº¤åª’ä½“**: å¿«é€Ÿåˆ›å»ºå¸å¼•äººçš„è§†è§‰å†…å®¹
- **è¥é”€ææ–™**: ç”Ÿæˆäº§å“å®£ä¼ å›¾ç‰‡

### ğŸ”§ å¼€å‘é›†æˆ
- **åº”ç”¨é›†æˆ**: ä¸ºåº”ç”¨ç¨‹åºæ·»åŠ  AI å›¾åƒç”ŸæˆåŠŸèƒ½
- **è‡ªåŠ¨åŒ–æµç¨‹**: æ‰¹é‡ç”Ÿæˆå›¾ç‰‡ç”¨äºæ•°æ®å¢å¼º
- **åŸå‹è®¾è®¡**: å¿«é€Ÿåˆ›å»º UI/UX åŸå‹å›¾

### ğŸ“ æ•™è‚²ç ”ç©¶
- **æ•™å­¦å·¥å…·**: å¯è§†åŒ–å¤æ‚æ¦‚å¿µ
- **å­¦æœ¯ç ”ç©¶**: ç”Ÿæˆå®éªŒæ•°æ®å¯è§†åŒ–
- **åˆ›æ„å­¦ä¹ **: æ¿€å‘å­¦ç”Ÿåˆ›é€ åŠ›

---

## ğŸ¤ è´¡çŒ®æŒ‡å—

æˆ‘ä»¬æ¬¢è¿æ‰€æœ‰å½¢å¼çš„è´¡çŒ®ï¼ğŸ‰

### ğŸ› æŠ¥å‘Šé—®é¢˜
å‘ç° Bugï¼Ÿè¯·é€šè¿‡ [GitHub Issues](https://github.com/lzA6/quillbot-2api/issues) æŠ¥å‘Šã€‚

### ğŸ’¡ åŠŸèƒ½å»ºè®®
æœ‰æ–°æƒ³æ³•ï¼Ÿæ¬¢è¿æäº¤ Feature Requestï¼

### ğŸ”§ ä»£ç è´¡çŒ®
1. ğŸ´ Fork é¡¹ç›®
2. ğŸŒ¿ åˆ›å»ºç‰¹æ€§åˆ†æ”¯
3. ğŸ’» æäº¤æ›´æ”¹
4. ğŸ“¤ æ¨é€åˆ†æ”¯
5. ğŸ¯ åˆ›å»º Pull Request

### ğŸ“š æ–‡æ¡£æ”¹è¿›
å³ä½¿æ˜¯æ–‡æ¡£çš„æ”¹è¿›ä¹ŸåŒæ ·é‡è¦ï¼

---


## ğŸ™ è‡´è°¢

æ„Ÿè°¢æ‰€æœ‰ä¸ºè¿™ä¸ªé¡¹ç›®åšå‡ºè´¡çŒ®çš„å¼€å‘è€…ä»¬ï¼ğŸŒŸ

ç‰¹åˆ«æ„Ÿè°¢ï¼š
- **Quillbot** å›¢é˜Ÿæä¾›å¼ºå¤§çš„ AI å›¾åƒç”Ÿæˆèƒ½åŠ›
- **FastAPI** ç¤¾åŒºæä¾›çš„ä¼˜ç§€ Web æ¡†æ¶
- **Docker** å›¢é˜Ÿæä¾›çš„å®¹å™¨åŒ–è§£å†³æ–¹æ¡ˆ
- æ‰€æœ‰**å¼€æºé¡¹ç›®**çš„è´¡çŒ®è€…

---

## ğŸ”— æœ‰ç”¨é“¾æ¥

- ğŸ“– [å®Œæ•´æ–‡æ¡£](https://github.com/lzA6/quillbot-2api/docs)
- ğŸ› [é—®é¢˜è¿½è¸ª](https://github.com/lzA6/quillbot-2api/issues)
- ğŸ’¬ [è®¨è®ºåŒº](https://github.com/lzA6/quillbot-2api/discussions)
- ğŸ“¦ [Docker Hub](https://hub.docker.com/r/yourname/quillbot-2api)

---

**è®©æˆ‘ä»¬ä¸€èµ·æ„å»ºæ›´å¥½çš„ AI å¼€å‘ç”Ÿæ€ï¼** ğŸš€

å¦‚æœæœ‰ä»»ä½•é—®é¢˜æˆ–å»ºè®®ï¼Œè¯·éšæ—¶è”ç³»æˆ‘ä»¬ã€‚ç¥ä½¿ç”¨æ„‰å¿«ï¼ğŸ¨âœ¨
